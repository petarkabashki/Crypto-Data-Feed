âŸ¨JParseâ‡ParseâŸ©â†â€¢Import "bqn-libs/json.bqn"
bfldâ†"./freq-user-data/data/"
xchâ†"binance/"
dfldâ†bfldâˆ¾xch
+Â´(@+10)(=) 1âŠ‘â€¢SH "ls"â€¿(bfldâˆ¾xch)
# Candle files in folder
Klfilesâ†{(@+10)((âŠ¢-ËœÂ¬Ã—+`)âˆ˜â·âŠ”âŠ¢) 1âŠ‘â€¢SH "ls"â€¿ğ•©}
Klfiles dfld
# Extract base,quote,timeframe from file names
Xkfldâ†{(<'-'â€¿'_') ((âŠ¢-ËœÂ¬Ã—+`)âˆ˜âˆŠËœâŠ”âŠ¢)Â¨  Â¯5â†“Â¨ ğ•©}
3â†‘>klsâ†Xkfld Klfiles dfld

# Unique assets
 5â†‘  â·(âŠ‘)Â¨ kls

# Unique timeframes
 â·(Â¯1âŠ¸âŠ‘)Â¨ kls
# Reconstruct the filename
Bqt2fâ† (âˆ¾âˆ˜â¥Šâˆ˜â‰("_"â€¿"-"â€¿".json")â‰ËœâŠ¢)
Bqt2f âŸ¨"ALGO","USDT","1d"âŸ©
# Get assets with "1d"s only
cl_1dâ†âŠ‘Â¨ (( "1d"âŠ¸â‰¡ Â¯1âŠ¸âŠ‘)Â¨âŠ¸/âŠ¢)  kls
cl_1d ((<âŠ£)âˆ¾âŠ¢)Â¨ (<"USDT"â€¿"1d")

# Check timestamps are ok for all assets
TS_okâ†{
	klsâ†JParse â€¢FChars ğ•© 
	1âŠ¸=â‰ â·1â†“(Â»âŠ¸-) âŠ‘Â¨kls
}
#ok_klines â† TS_okÂ¨ (bfldâˆ¾xchâˆ¾Bqt2f)Â¨ cl_1d ((<âŠ£)âˆ¾âŠ¢)Â¨ (<"USDT"â€¿"1d")
# kline files with abnormal timestamps
#cl_1d
#((Â¬ok_klines) / cl_1d)
# Reconstruct filenames
#(<"_"â€¿"-"â€¿".json") (âˆ¾Â´âˆ˜â¥Šâˆ˜â‰â‰Ëœ)Â¨  cl_1d âˆ¾ (<"USDT"â€¿"1d")
# Get all timeframes for ALGO only
(( "ALGO"âŠ¸â‰¡ 0âŠ¸âŠ‘)Â¨âŠ¸/âŠ¢) kls

fclâ†bfldâˆ¾xchâˆ¾("_"â€¿"-"â€¿".json") (âˆ¾âˆ˜â¥Šâˆ˜â‰â‰Ëœ) âŸ¨"ALGO","USDT","1d"âŸ©
# Load klines
#5â†‘>klsâ†JParse â€¢FChars fcl
# Check Differences between Timestamps are the same
#1âŠ¸=â‰ â·1â†“(Â»âŠ¸-) âŠ‘Â¨kls
#(( "1d"âŠ¸â‰¡ Â¯1âŠ¸âŠ‘)Â¨âŠ¸/âŠ¢) bqtf





#>> 1âŠ((âŠÂ¯1âŠ¸â†‘Â¨)âŠ¸ âŠ”) (<'-'â€¿'_') ((âŠ¢-ËœÂ¬Ã—+`)âˆ˜âˆŠËœâŠ”âŠ¢)Â¨  Â¯5â†“Â¨(@+10)((âŠ¢-ËœÂ¬Ã—+`)âˆ˜â·âŠ”âŠ¢) 1âŠ‘â€¢SH "ls"â€¿(bfldâˆ¾xch)





